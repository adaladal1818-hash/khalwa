<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø´Ø± Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø®Ù„ÙˆØ©</title>
    <style>
        body { font-family: Arial; margin: 20px; background: #f5f5f5; direction: rtl; }
        .container { max-width: 600px; margin: 0 auto; background: white; padding: 20px; border-radius: 10px; }
        textarea { width: 100%; height: 300px; margin: 10px 0; padding: 10px; }
        button { background: #27ae60; color: white; border: none; padding: 10px 20px; margin: 5px; border-radius: 5px; cursor: pointer; }
        .info { background: #e8f4fd; padding: 15px; border-radius: 5px; margin: 10px 0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“¤ Ù†Ø´Ø± Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø®Ù„ÙˆØ©</h1>
        
        <div class="info">
            <h3>ğŸ”§ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:</h3>
            <ol>
                <li>Ø§Ù†Ø³Ø® Ù…Ø­ØªÙˆÙ‰ Ù…Ù„Ù data.json Ù…Ù† ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„</li>
                <li>Ø§Ù„ØµÙ‚ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ÙÙŠ Ø§Ù„Ù…Ø±Ø¨Ø¹ Ø£Ø¯Ù†Ø§Ù‡</li>
                <li>Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ "Ù†Ø³Ø® Ù„Ù„Ø°Ø§ÙƒØ±Ø©"</li>
                <li>Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ GitHub ÙˆØ§Ù„ØµÙ‚ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ÙÙŠ Ù…Ù„Ù data.json</li>
            </ol>
        </div>

        <textarea id="jsonData" placeholder="Ø§Ù„ØµÙ‚ Ù…Ø­ØªÙˆÙ‰ data.json Ù‡Ù†Ø§..."></textarea>
        
        <div>
            <button onclick="copyToClipboard()">ğŸ“‹ Ù†Ø³Ø® Ù„Ù„Ø°Ø§ÙƒØ±Ø©</button>
            <button onclick="loadFromLocal()">ğŸ“‚ Ø¬Ù„Ø¨ Ù…Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</button>
            <button onclick="clearData()">ğŸ—‘ï¸ Ù…Ø³Ø­</button>
        </div>

        <div id="status" style="margin-top: 15px;"></div>
    </div>

    <script>
        function copyToClipboard() {
            const textarea = document.getElementById('jsonData');
            textarea.select();
            document.execCommand('copy');
            showStatus('âœ… ØªÙ… Ø§Ù„Ù†Ø³Ø® Ø¥Ù„Ù‰ Ø§Ù„Ø°Ø§ÙƒØ±Ø©', 'success');
        }

        function loadFromLocal() {
            try {
                const kholwaData = localStorage.getItem('kholwa');
                const historyData = localStorage.getItem('history');
                const studentsData = localStorage.getItem('students');
                
                const data = {
                    kholwa: kholwaData ? JSON.parse(kholwaData) : null,
                    history: historyData ? JSON.parse(historyData) : [],
                    lastUpdated: new Date().toISOString()
                };
                
                document.getElementById('jsonData').value = JSON.stringify(data, null, 2);
                showStatus('âœ… ØªÙ… Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚', 'success');
            } catch (error) {
                showStatus('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª', 'error');
            }
        }

        function clearData() {
            document.getElementById('jsonData').value = '';
            showStatus('ğŸ—‘ï¸ ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª', 'info');
        }

        function showStatus(message, type) {
            const status = document.getElementById('status');
            status.innerHTML = `<div style="padding: 10px; background: ${
                type === 'success' ? '#d4edda' : 
                type === 'error' ? '#f8d7da' : '#fff3cd'
            }; color: ${
                type === 'success' ? '#155724' : 
                type === 'error' ? '#721c24' : '#856404'
            }; border-radius: 5px;">${message}</div>`;
            
            setTimeout(() => {
                status.innerHTML = '';
            }, 3000);
        }

        // ØªØ­Ù…ÙŠÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø¨ÙŠØ§Ù†Ø§Øª
        window.onload = function() {
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('auto')) {
                loadFromLocal();
            }
        };
    </script>
</body>
          </html>
