<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ุงูุฎููุฉ โ ุฑุญูุฉ ุฌูููุฉ ูุน ูุชุงุจู</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;800&display=swap" rel="stylesheet">
<link rel="manifest" href="manifest.json">
<link rel="icon" href="icon.svg">
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="app">
  <div class="header"><div class="title">โจ ุฑุญูุฉ ุฌูููุฉ ูุน ูุชุงุจู โจ</div></div>

  <div id="home" class="card">
    <p class="small center">ุงูุชุญ ุงูุฎููุฉ ุงูุขู โ ุงุฎุชุฑ ูุฆุชู:</p>
    <button class="btn btn-red" onclick="showPanel('admin')">๐ด ุงููุณุคูู</button>
    <button class="btn btn-blue" onclick="showPanel('teacher')">๐ต ุงูุฎุงุฏู</button>
    <button class="btn btn-green" onclick="showPanel('child')">๐ข ุงูุทูู</button>
    <button class="btn" style="background:#ffd700;color:#000" onclick="showLeaderboard()">๐ ููุญุฉ ุงููุชุตุฏุฑูู</button>
    
    <!-- ุฒุฑ ุงูุฅุดุนุงุฑุงุช ุงููุถุงู -->
    <button class="btn" style="background:#e67e22;color:white;position:relative;" onclick="showNotificationsPanel()">
      ๐ ุงูุฅุดุนุงุฑุงุช
      <span id="notificationBadge" class="notification-badge" style="display:none">0</span>
    </button>
    
    <div class="small center" style="margin-top:10px">ุตููู: 1 - 2 - 3 - 4 - 5 - 6</div>
  </div>

  <div id="mainInfo" class="card" style="display:none">
    <div id="todayTitle" class="title"></div>
    <div id="kholwaTimer" class="timer"></div>
  </div>

  <div id="admin" class="card" style="display:none">
    <h3 class="center">ุงููุณุคูู</h3>
    <div id="adminLoginBox">
      <label>ูููุฉ ูุฑูุฑ ุงููุณุคูู:</label>
      <input id="adminPass" class="input" type="password" placeholder="ุงุฏุฎู ูููุฉ ุงููุฑูุฑ">
      <div style="display:flex;gap:8px">
        <button class="btn btn-red" id="adminLoginBtn" onclick="adminLogin()">ุฏุฎูู</button>
        <button class="btn" id="adminQuick" style="background:#eee" onclick="goHome()">ุนูุฏุฉ</button>
      </div>
    </div
    <!-- ูู ูุณู adminPanel -->
<div id="adminPanel" style="display:none">
    <label>ุนููุงู ุงูุฎููุฉ:</label>
    <input id="dayTitle" class="input" placeholder="ุนููุงู ุงูููู">
    
    <!-- ุงุฎุชูุงุฑ ููุน ุงููุญุชูู - ูุนุฏู -->
    <label>ุงุฎุชุฑ ุทุฑููุฉ ุฅุถุงูุฉ ุงููุญุชูู:</label>
    <div class="media-type-grid">
        <button type="button" class="media-type-btn" style="background: #3498db; color: white;" onclick="setMediaType('text', event)">๐ ูุต ูุจุงุดุฑ</button>
        <button type="button" class="media-type-btn" style="background: #9b59b6; color: white;" onclick="setMediaType('paste', event)">๐ ูุณุฎ ููุตู</button>
        <button type="button" class="media-type-btn" style="background: #e74c3c; color: white;" onclick="setMediaType('camera', event)">๐ท ูุงููุฑุง</button>
        <button type="button" class="media-type-btn" style="background: #2ecc71; color: white;" onclick="setMediaType('image', event)">๐ผ๏ธ ุฑูุน ุตูุฑุฉ</button>
        <button type="button" class="media-type-btn" style="background: #e67e22; color: white;" onclick="setMediaType('pdf', event)">๐ ููู PDF</button>
        <button type="button" class="media-type-btn" style="background: #34495e; color: white;" onclick="setMediaType('word', event)">๐ ููู Word</button>
    </div>

    <!-- ุญูู ุงููุต ุงูุนุงุฏู -->
    <div id="textInput">
        <label>ูุต ุงูุฎููุฉ:</label>
        <textarea id="kholwaText" class="input" rows="5" placeholder="ุงูุชุจ ูุต ุงูุฎููุฉ ุฃู ุงูุขูุงุช..."></textarea>
    </div>

    <!-- ุญูู ุงููุณุฎ ูุงููุตู -->
    <div id="pasteInput" style="display: none;">
        <label>ุงูุตู ุงููุต ููุง:</label>
        <textarea id="pasteContent" class="input paste-area" rows="3" placeholder="ุงูุตู ุงููุต ุจุงุณุชุฎุฏุงู Ctrl+V" onpaste="handlePaste(event)"></textarea>
        <small class="note">ุงุณุชุฎุฏู Ctrl+V ููุตู ุงููุต ุงูููุณูุฎ</small>
    </div>

    <!-- ุญูู ุงููุงููุฑุง -->
    <div id="cameraInput" style="display: none;">
        <label>ุงูุชูุงุท ุตูุฑุฉ ุจุงููุงููุฑุง:</label>
        <div class="camera-container">
            <div id="cameraPreview"></div>
        </div>
    </div>

    <!-- ุญูู ุฑูุน ุงููููุงุช -->
    <div id="fileInput" style="display: none;"></div>

    <!-- ุจุงูู ุงููุญุชูู -->
    <div style="display:flex;gap:8px; margin-top: 15px;">
        <div style="flex:1">
            <label>ุจุฏุงูุฉ:</label>
            <input id="startTime" class="input" type="datetime-local">
        </div>
        <div style="flex:1">
            <label>ููุงูุฉ:</label>
            <input id="endTime" class="input" type="datetime-local">
        </div>
    </div>
    
    <!-- ุจุงูู ุงููุญุชูู ูุจูู ููุง ูู -->
    <hr>
    <h4>ุณุคุงู ุงูููู (ุงุฎุชูุงุฑ ูู ูุชุนุฏุฏ)</h4>
    <label>ูุต ุงูุณุคุงู:</label>
    <input id="qText" class="input" placeholder="ุงูุชุจ ุงูุณุคุงู">
    
    <label>ุงูุฎูุงุฑ 1:</label>
    <input id="q1" class="input" placeholder="ุงูุฎูุงุฑ ุงูุฃูู">
    
    <label>ุงูุฎูุงุฑ 2:</label>
    <input id="q2" class="input" placeholder="ุงูุฎูุงุฑ ุงูุซุงูู">
    
    <label>ุงูุฎูุงุฑ 3:</label>
    <input id="q3" class="input" placeholder="ุงูุฎูุงุฑ ุงูุซุงูุซ">
    
    <label>ุงุฎุชุฑ ุฑูู ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ:</label>
    <select id="qCorrect" class="input">
        <option value="0">1</option>
        <option value="1">2</option>
        <option value="2">3</option>
    </select>
    
    <div style="display:flex;gap:8px;margin-top:8px">
        <button class="btn btn-red" id="publishBtn" onclick="publishKholwa()">ูุดุฑ ุงูุฎููุฉ</button>
        <button class="btn" id="closeNowBtn" style="background:#ffa500;color:#fff" onclick="closeNow()">ุบูู ุงูุขู</button>
    </div>

    <hr>
    <h4>ุฅุฏุงุฑุฉ ุงูุฎุฏุงู</h4>
    <label>ุงุณู ุงูุฎุงุฏู:</label>
    <input id="tuser" class="input" placeholder="ุงุณู ุงูุฎุงุฏู">
    
    <label>ูููุฉ ุงููุฑูุฑ ููุฎุงุฏู:</label>
    <input id="tpass" class="input" value="servant123" type="text" placeholder="ูููุฉ ุงููุฑูุฑ">
    
    <label>ุงุฎุชุฑ ูุตู ููุฎุงุฏู:</label>
    <select id="tclass" class="input">
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
    </select>
    
    <button class="btn btn-red" id="createTeacherBtn" onclick="createTeacher()">ุฅูุดุงุก ุฎุงุฏู</button>

    <hr>
    <h4>ุงูุฃูุงู ุงูุณุงุจูุฉ</h4>
    <div id="historyList" class="note"></div>
    
    <h4>ุชูุงุฑูุฑ</h4>
    <div id="reportArea" class="note"></div>
    
    <!-- ุงูุฃุฒุฑุงุฑ ุงูุฌุฏูุฏุฉ ุงููุถุงูุฉ -->
    <div style="display:flex;gap:8px;margin-top:8px">
        <button class="btn btn-blue" onclick="showAnalytics()">๐ ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช</button>
        <button class="btn" style="background:#27ae60;color:white" onclick="createManualBackup()">๐พ ูุณุฎ ุงุญุชูุงุทู</button>
    </div>
    
    <div style="display:flex;gap:8px;margin-top:8px">
        <button class="btn" style="background:#e67e22;color:white" onclick="showNotificationsPanel()">๐ ุงูุฅุดุนุงุฑุงุช</button>
        <button class="btn" id="resetBtn" style="background:#f04d4d;color:white" onclick="resetAll()">ุชุตููุฑ ุงูุจูุงูุงุช</button>
    </div>
    
    <div class="back-btn" onclick="goHome()">๐ ุนูุฏู</div>
</div>
  </div>

  <div id="teacher" class="card" style="display:none">
    <h3 class="center">ุงูุฎุงุฏู</h3>
    <div id="teacherLoginBox">
      <label>ุงุณู ุงููุณุชุฎุฏู:</label>
      <input id="loginUser" class="input" placeholder="ุงุฏุฎู ุงุณู ุงููุณุชุฎุฏู">
      
      <label>ูููุฉ ุงููุฑูุฑ:</label>
      <input id="loginPass" class="input" type="password" placeholder="ุงุฏุฎู ูููุฉ ุงููุฑูุฑ">
      
      <div style="display:flex;gap:8px;margin-top:10px">
        <button class="btn btn-blue" id="teacherLoginBtn" onclick="teacherLogin()">ุฏุฎูู</button>
        <button class="btn" onclick="goHome()" style="background:#eee">ุนูุฏุฉ</button>
      </div>
    </div>
    
    <div id="teacherPanel" style="display:none">
      <h4>ุทูุงุจ ุงููุตู <span id="teacherClass" class="note"></span></h4>
      
      <label>ุฃุถู ุฃุณูุงุก ุงูุทูุงุจ (ุงูุตู ุจูุงุตูุฉ):</label>
      <textarea id="studentNames" class="input" rows="3" placeholder="ูุซุงู: ุฃุญูุฏ, ูุญูุฏ, ูุงุทูุฉ"></textarea>
      <button class="btn btn-blue" id="addStudentsBtn" onclick="addStudents()">ุฅุถุงูุฉ ุงูุทูุงุจ</button>
      
      <!-- ููุญุฉ ุชุญูู ุงูุฎุงุฏู ุงููุญุณูุฉ -->
      <div id="teacherDashboard"></div>
      
      <div id="teacherStatus" class="note"></div>
      <div class="back-btn" onclick="goHome()">๐ ุนูุฏู</div>
    </div>
  </div>

  <div id="child" class="card" style="display:none">
    <h3 class="center">ุงูุทูู</h3>
    <div id="childEntry">
      <label>ุงูุงุณู:</label>
      <input id="childName" class="input" placeholder="ุงุฏุฎู ุงุณูู">
      
      <label>ุฑูู ุงููุตู:</label>
      <select id="childClass" class="input">
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
      </select>
      
      <button class="btn btn-green" id="enterKholwaBtn" onclick="enterKholwa()">ูุชุญ ุงูุฎููุฉ</button>
      
      <div class="small note">
        ูู ุธูุฑ "ุงูุฎููุฉ ูุบููุฉ" ุชุฃูุฏ ุฃู ุงููุณุคูู ุฑูุน ููู <code>data.json</code> ุนูู ุงูุงุณุชุถุงูุฉ.
      </div>
    </div>
    
    <div id="kholwaView" style="display:none">
      <div id="kholwaContent" class="note"></div>
      <div id="questionArea" class="note"></div>
      <div id="choicesArea"></div>
      <div id="resultArea" class="note"></div>
      <div class="back-btn" onclick="goHome()">๐ ุนูุฏู</div>
    </div>
  </div>

  <div class="small center">ุฅุนุฏุงุฏ ุฎุฏูุฉ ูุฏุงุฑุณ ุงูุฃุญุฏ</div>
</div>
<script src="script.js"></script>
</body>
</html>
