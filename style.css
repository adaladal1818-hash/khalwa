:root{--bg:#fffaf2;--card:#fff;--text:#222;--accent:#d9b382}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:'Cairo', Arial, sans-serif;background:var(--bg);color:var(--text);direction:rtl}
.app{max-width:520px;margin:0 auto;padding:14px;min-height:100vh}
.header{display:flex;justify-content:center;align-items:center}
.title{font-weight:800;font-size:1.4rem;text-align:center}
.card{background:var(--card);border-radius:12px;padding:12px;margin:12px 0;box-shadow:0 6px 18px rgba(0,0,0,0.06)}
.btn{display:block;width:100%;padding:12px;border-radius:10px;border:none;font-weight:800;font-size:1rem;cursor:pointer;margin-top:8px}
.btn-red{background:#d62828;color:#fff}.btn-blue{background:#0077b6;color:#fff}.btn-green{background:#2a9d8f;color:#fff}
.input, textarea, select{width:100%;padding:10px;margin-top:8px;border-radius:8px;border:1px solid #e6e0d6}
.small{font-size:0.9rem;color:#666}.center{text-align:center}.note{margin-top:8px;color:#444}
.option-btn{display:inline-block;margin:6px;padding:10px 14px;border-radius:8px;background:#f0f0f0;border:none;font-weight:700;cursor:pointer}
.back-btn{margin-top:12px;background:#eee;border-radius:8px;padding:10px;text-align:center;cursor:pointer}
.timer{font-weight:800;color:#b04545;margin-top:8px;text-align:center}
.table{width:100%;border-collapse:collapse}.table th,.table td{border:1px solid #efe8d8;padding:6px;text-align:center;font-size:0.95rem}
.fab-admin{position:fixed;top:10px;left:10px;background:#d62828;color:#fff;padding:8px;border-radius:8px;cursor:pointer;font-weight:800;z-index:999}

/* نظام الصور الدائرية الجديد */
.profile-img{width:60px;height:60px;border-radius:50%;object-fit:cover;border:3px solid var(--accent);margin:0 auto;display:block}
.upload-btn{background:#6a4c93;color:white;padding:8px 12px;border-radius:8px;border:none;cursor:pointer;font-size:0.9rem;margin:8px auto;display:block}
.upload-btn:hover{background:#5a3c83}
.hidden{display:none}

/* لوحة المتصدرين */
.leaderboard-item{display:flex;align-items:center;padding:10px;border-bottom:1px solid #efe8d8;gap:12px}
.leaderboard-avatar{width:50px;height:50px;border-radius:50%;object-fit:cover}
.leaderboard-rank{font-size:1.2rem;font-weight:800;min-width:30px}
.leaderboard-info{flex:1}
.leaderboard-name{font-weight:700;margin-bottom:4px}
.leaderboard-points{color:#666;font-size:0.9rem}
.medal-gold{color:gold}
.medal-silver{color:silver}
.medal-bronze{color:#cd7f32}

/* نقاط الطفل */
.points-badge{background:#ffd700;color:#000;padding:4px 8px;border-radius:12px;font-size:0.8rem;font-weight:700;display:inline-block;margin-right:8px}

/* الأنشطة التفاعلية الجديدة */
.activity-card{background:#f8f9fa;border-radius:10px;padding:12px;margin:10px 0;border:2px solid #e9ecef}
.true-false-btns{display:flex;gap:10px;margin-top:10px}
.true-false-btn{flex:1;padding:12px;border-radius:8px;border:none;font-weight:700;cursor:pointer}
.true-btn{background:#2ecc71;color:white}
.false-btn{background:#e74c3c;color:white}
.sortable-list{list-style:none;padding:0;margin:10px 0}
.sortable-item{background:white;padding:12px;margin:8px 0;border-radius:8px;border:2px solid #ddd;cursor:grab;font-weight:600}
.sortable-item:active{cursor:grabbing}
.sortable-item.dragging{opacity:0.5}
.matching-container{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin:10px 0}
.matching-item{padding:10px;border-radius:8px;border:2px solid #3498db;text-align:center;cursor:pointer;background:white}
.matching-item.selected{background:#3498db;color:white}
.matching-item.matched{background:#2ecc71;color:white;border-color:#2ecc71}
.challenge-card{background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:15px;border-radius:12px;margin:10px 0}

/* التحسينات الإدارية */
.notification-badge{position:absolute;top:-5px;right:-5px;background:#e74c3c;color:white;border-radius:50%;width:18px;height:18px;font-size:0.7rem;display:flex;align-items:center;justify-content:center}
.stats-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin:10px 0}
.stat-card{background:white;padding:12px;border-radius:8px;text-align:center;border:1px solid #ddd}
.stat-number{font-size:1.5rem;font-weight:800;color:#2c3e50}
.stat-label{font-size:0.8rem;color:#7f8c8d}
.chart-container{background:white;padding:15px;border-radius:10px;margin:10px 0;border:1px solid #ddd}
.auto-backup{background:#27ae60;color:white;padding:8px 12px;border-radius:8px;border:none;cursor:pointer;margin:5px}
.notification-item{background:#fff3cd;border:1px solid #ffeaa7;border-radius:8px;padding:10px;margin:5px 0;font-size:0.9rem}

/* ميزات الخدام الجديدة */
.teacher-dashboard{background:linear-gradient(135deg,#74b9ff,#0984e3);color:white;padding:15px;border-radius:12px;margin:10px 0}
.student-progress-card{background:white;border-radius:10px;padding:12px;margin:8px 0;border-left:4px solid #74b9ff}
.progress-bar{background:#e0e0e0;border-radius:10px;height:20px;margin:8px 0;overflow:hidden}
.progress-fill{background:linear-gradient(90deg,#74b9ff,#0984e3);height:100%;border-radius:10px;transition:width 0.3s}
.encourage-btn{background:#00b894;color:white;padding:8px 12px;border-radius:8px;border:none;cursor:pointer;margin:4px;font-size:0.8rem}
.encourage-btn:hover{background:#00a085}
.performance-badge{display:inline-block;padding:2px 8px;border-radius:12px;font-size:0.7rem;font-weight:700;margin-right:6px}
.performance-excellent{background:#00b894;color:white}
.performance-good{background:#74b9ff;color:white}
.performance-average{background:#fdcb6e;color:white}
.performance-needs-improvement{background:#e17055;color:white}

/* اللمسات النهائية وتحسين الواجهة */
.fade-in{animation:fadeIn 0.5s ease-in}
@keyframes fadeIn{from{opacity:0} to{opacity:1}}
.pulse{animation:pulse 2s infinite}
@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}100%{transform:scale(1)}}
.bounce{animation:bounce 0.5s}
@keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-5px)}}
.floating{animation:floating 3s ease-in-out infinite}
@keyframes floating{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}

/* تحسينات تجربة المستخدم */
.loading-spinner{display:inline-block;width:20px;height:20px;border:3px solid #f3f3f3;border-top:3px solid #3498db;border-radius:50%;animation:spin 1s linear infinite}
@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
.tooltip{position:relative;display:inline-block}
.tooltip .tooltiptext{visibility:hidden;width:120px;background-color:#555;color:#fff;text-align:center;border-radius:6px;padding:5px;position:absolute;z-index:1;bottom:125%;left:50%;margin-left:-60px;opacity:0;transition:opacity 0.3s}
.tooltip:hover .tooltiptext{visibility:visible;opacity:1}
.confetti{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1000}
.confetti-piece{position:absolute;width:10px;height:10px;background:#ff0;opacity:0;animation:confetti-fall 5s linear}
@keyframes confetti-fall{0%{transform:translateY(-100px) rotate(0deg);opacity:1}100%{transform:translateY(100vh) rotate(360deg);opacity:0}}

/* تحسينات للجوال */
@media (max-width:480px){.app{padding:10px}.btn{padding:10px}.card{padding:10px}.title{font-size:1.2rem}}
/* تنسيقات الوسائط المتعددة */
.media-preview {
    max-width: 100%;
    border-radius: 8px;
    margin: 10px 0;
    border: 2px solid #e0e0e0;
}

.camera-container {
    position: relative;
    background: #000;
    border-radius: 8px;
    overflow: hidden;
}

.capture-btn {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: #e74c3c;
    color: white;
    border: none;
    border-radius: 50%;
    width: 60px;
    height: 60px;
    font-size: 1.5rem;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(0,0,0,0.3);
}

.file-upload-area {
    border: 2px dashed #3498db;
    border-radius: 8px;
    padding: 20px;
    text-align: center;
    background: #f8f9fa;
    cursor: pointer;
    transition: all 0.3s;
}

.file-upload-area:hover {
    background: #e3f2fd;
    border-color: #2980b9;
}

.media-type-btn.active {
    transform: scale(0.95);
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
                      }
